<html>
<head>
<style type="text/css">
    #qunit-banner,#qunit-header,#qunit-testresult,#qunit-testrunner-toolbar,#qunit-tests,#qunit-userAgent{font-family:"Helvetica Neue Light",HelveticaNeue-Light,"Helvetica Neue",Calibri,Helvetica,Arial,sans-serif}#qunit-testresult,#qunit-testrunner-toolbar,#qunit-tests li,#qunit-userAgent{font-size:small}#qunit-tests{font-size:smaller}#qunit-banner,#qunit-header,#qunit-modulefilter,#qunit-testresult,#qunit-tests,#qunit-tests ol,#qunit-userAgent{margin:0;padding:0}#qunit-header{padding:.5em 0 .5em 1em;color:#8699a4;background-color:#0d3349;font-size:1.5em;line-height:1em;font-weight:400;border-radius:5px 5px 0 0;-moz-border-radius:5px 5px 0 0;-webkit-border-top-right-radius:5px;-webkit-border-top-left-radius:5px}#qunit-header a{text-decoration:none;color:#c2ccd1}#qunit-header a:focus,#qunit-header a:hover{color:#fff}#qunit-testrunner-toolbar label{display:inline-block;padding:0 .5em 0 .1em}#qunit-banner{height:5px}#qunit-testrunner-toolbar{padding:.5em 0 .5em 2em;color:#5E740B;background-color:#eee;overflow:hidden}#qunit-userAgent{padding:.5em 0 .5em 2.5em;background-color:#2b81af;color:#fff;text-shadow:rgba(0,0,0,.5) 2px 2px 1px}#qunit-modulefilter-container{float:right}#qunit-tests{list-style-position:inside}#qunit-tests li{padding:.4em .5em .4em 2.5em;border-bottom:1px solid #fff;list-style-position:inside}#qunit-tests.hidepass li.pass,#qunit-tests.hidepass li.running{display:none}#qunit-tests li strong{cursor:pointer}#qunit-tests li a{padding:.5em;color:#c2ccd1;text-decoration:none}#qunit-tests li a:focus,#qunit-tests li a:hover{color:#000}#qunit-tests ol{margin-top:.5em;padding:.5em;background-color:#fff;border-radius:5px;-moz-border-radius:5px;-webkit-border-radius:5px}#qunit-tests table{border-collapse:collapse;margin-top:.2em}#qunit-tests th{text-align:right;vertical-align:top;padding:0 .5em 0 0}#qunit-tests td{vertical-align:top}#qunit-tests pre{margin:0;white-space:pre-wrap;word-wrap:break-word}#qunit-tests del{background-color:#e0f2be;color:#374e0c;text-decoration:none}#qunit-tests ins{background-color:#ffcaca;color:#500;text-decoration:none}#qunit-tests b.counts{color:#000}#qunit-tests b.passed{color:#5E740B}#qunit-tests b.failed{color:#710909}#qunit-tests li li{padding:5px;background-color:#fff;border-bottom:none;list-style-position:inside}#qunit-tests li li.pass{color:#3c510c;background-color:#fff;border-left:10px solid #C6E746}#qunit-tests .pass{color:#528CE0;background-color:#D2E0E6}#qunit-tests .pass .test-name{color:#366097}#qunit-tests .pass .test-actual,#qunit-tests .pass .test-expected{color:#999}#qunit-banner.qunit-pass{background-color:#C6E746}#qunit-tests li li.fail{color:#710909;background-color:#fff;border-left:10px solid #EE5757;white-space:pre}#qunit-tests>li:last-child{border-radius:0 0 5px 5px;-moz-border-radius:0 0 5px 5px;-webkit-border-bottom-right-radius:5px;-webkit-border-bottom-left-radius:5px}#qunit-tests .fail{color:#000;background-color:#EE5757}#qunit-tests .fail .module-name,#qunit-tests .fail .test-name{color:#000}#qunit-tests .fail .test-actual{color:#EE5757}#qunit-tests .fail .test-expected{color:green}#qunit-banner.qunit-fail{background-color:#EE5757}#qunit-testresult{padding:.5em .5em .5em 2.5em;color:#2b81af;background-color:#D2E0E6;border-bottom:1px solid #fff}#qunit-testresult .module-name{font-weight:700}#qunit-fixture{position:absolute;top:-10000px;left:-10000px;width:1000px;height:1000px}
    .ui-helper-clearfix:after{content:".";display:block;height:0;clear:both;visibility:hidden}* html .ui-helper-clearfix{height:1%}.ui-helper-clearfix{display:block}#tabs-container{background:#EEE;background:-webkit-gradient(linear,0 100%,0 0,color-stop(0,#CCC),color-stop(0.8,#EEE));background:-moz-linear-gradient(center bottom,#CCC 0,#EEE 80%) repeat scroll;border:1px solid #BBB;border-left:none;border-right:none;display:block;padding:10px;z-index:5;height:20px;cursor:pointer}#tabs-container .btn-tab{background:#CCC;background:-webkit-gradient(linear,0 100%,0 0,color-stop(0,#D4D4D4),color-stop(0.8,#F0F0F0));background:-moz-linear-gradient(center bottom,#D4D4D4 0,#F0F0F0 80%) repeat scroll;border:1px solid #BBB;color:#555;float:left;font-size:13px;font-weight:700;line-height:1em;margin:0 2px 0 0;padding:8px 18px;text-align:center;text-shadow:0 1px 0 #fff;-moz-border-radius:6px 6px 0 0;-webkit-border-radius:6px 6px 0 0;-o-border-radius:6px 6px 0 0;-ms-border-radius:6px 6px 0 0;-khtml-border-radius:6px 6px 0 0;border-radius:6px 6px 0 0;text-decoration:none}#tabs-container .btn-tab.btn-pressed{background:#fff!important;border-bottom:1px solid #fff;color:#444}#tabs-container .btn-tab.btn-hidden,#tabs-container .file-options{display:none}#tabs-container .file-options,#tabs-container .run-options{float:right;margin-top:3px}.coverage-wrapper{margin:20px 40px;position:relative}.coverage-wrapper a{color:#38678B}.coverage-wrapper .table-wrapper{padding:0 20px 20px}.overall-stats{clear:both;height:200px;padding-top:20px;margin-left:20%}.overall-stats h1{border-bottom:solid 1px #999;margin:5px 0;color:#555;font-size:18px;padding:3px}.overall-stats .time{color:#999}.overall-stats .total-stat{float:left;position:relative;margin:0 20px 0 0;text-align:center}.overall-stats .total-stat h2{font-size:18px;color:#555;margin:50px 0 0;text-align:center}.overall-stats .total-stat .covered{color:orange;font-size:38px}.overall-stats .stat-wrap{float:left;position:relative;width:150px;margin:0;text-align:center}.overall-stats .stat{font-weight:700;color:#555;position:absolute;top:65px;left:50px;font-size:18px}.overall-stats h2{color:#555;font-size:12px;padding:0;margin:5px}#report-wrapper{padding:0 50px 20px}.results-wrapper{float:left;margin-top:-2px}#report,#results{padding:0}#report{border:1px solid #ccc;border-collapse:collapse;width:100%}#report td,#report th,#results td,#results th{text-align:left}#report .header th,#results .header th{background:#fff;background:-webkit-gradient(linear,0 100%,0 0,color-stop(0,#F4F4F4),color-stop(0.6,#fff));background:-moz-linear-gradient(center bottom,#F4F4F4 0,#fff 60%) repeat scroll;border-left:1px solid #CCC;border-bottom:1px solid #CCC;color:#555;font-weight:700;line-height:14px;padding:6px 10px;text-shadow:0 1px 0 #fff;text-align:left;font-size:12px}#report th.blockcol,#results th.testcol{border-right:solid 1px #CCC}#report td,#results td{padding:5px;font-size:12px}#results td.chkcol,#results th.chkcol{width:30px;text-align:center}#report td img,#results td img{margin-right:3px;vertical-align:top}#report tr:nth-child(odd)>td,#results tr.test:nth-child(odd)>td{background:#fafafa}#report tr:hover>td,#results tr.test.test-fail:nth-child(odd):hover>td,#results tr.test.test-pass:nth-child(odd):hover>td,#results tr.test.test-running:nth-child(odd):hover>td,#results tr.test:hover>td{background:#eee;color:#000}#report a{color:#135E91;text-decoration:none}#report a:hover{text-decoration:underline}#files-wrapper{border:1px solid #bbb;border-top:none;overflow:auto;width:100%}#files-wrapper .overall-stats{margin-left:44px}#files-wrapper .file-details{height:30px;line-height:30px;border-bottom:solid 1px #bbb}#files-wrapper .file-details .blocks,#files-wrapper .file-details .coverage,#files-wrapper .file-details .title{margin:0 15px;font-size:12px}#files-wrapper #file{border-collaspe:collaspe;width:100%}#files-wrapper #file .line{background:#f0f0f0;border-right:solid 1px #bbb;padding:2px;text-align:right;font-size:12px;width:40px}#files-wrapper #file .blank,#files-wrapper #file .hit,#files-wrapper #file .miss{font-family:Monaco,Consolas,Courier New,monospace;font-size:12px;padding:3px 0}#files-wrapper #file .hit{background:#dbffda}#files-wrapper #file .blank{background:#fafafa}#files-wrapper #file .miss{background:#feaaa7}.covered-wrapper{width:100%;float:left}body{width:100%;color:#000;padding:0;margin:0;font:12px "Helvetica Neue",Arial,Verdana,"Nimbus Sans L",sans-serif}pre{margin:0}.bar-graph{height:8px;border:1px solid #289ABD;width:148px;float:left;margin-right:5px;margin-top:2px;background:#fff}.bar-graph div{background:#289ABD;height:8px}.bar-graph{-moz-border-radius:1px;-webkit-border-radius:1px;-o-border-radius:1px;-ms-border-radius:1px;-khtml-border-radius:1px;border-radius:1px}#rerun{float:right;font-size:12px;color:#fff;background:green;padding:5px;margin-right:10%;cursor:pointer;-moz-border-radius:3px;-webkit-border-radius:3px;-o-border-radius:3px;-ms-border-radius:3px;-khtml-border-radius:3px;border-radius:3px}#rerun:hover{background:#41BD28}
</style>
<script type="text/javascript">
    (function(e){function f(e,t,n,r,i){var s=t[0];var o=i.attr("types")[t.shift()];o.require(e,function(){if(t.length){f(e,t,n,r,i)}else{n.apply(this,arguments)}},r,i)}function y(e,t,i){var s,o={},a=function(){};var l=function(){var e=n.map(arguments,function(e){if(e){var t=n.isString(e)?{id:e}:e;if(!t.idToUri){t.idToUri=l.idToUri}return t}else{return e}});if(e.length){v.pending.push.apply(v.pending,e);l.after(e)}return l};if(i){n.win.steal=l}l.clone=function(){return y(false,t.cloneContext())};l.config=function(){l.config.called=true;return t.attr.apply(t,arguments)};l.require=function(){return t.require.apply(t,arguments)};l.config.called=false;l._id=Math.floor(1e3*Math.random());l.getScriptOptions=function(e){var t={},r,i,s,o,u;e=e||n.getStealScriptSrc();if(e){r=e.src.split("?");i=r.shift();s=r.join("?");r=s.split(",");if(i.indexOf("steal.production")>-1){t.env="production"}o=r[0];if(o){if(o.indexOf(".js")==-1){o+="/"+o.split("/").pop()+".js"}console.log(o);t.startId=o}u=r[1];if(u){t.env=u}r=i.split("/");r.pop();if(r[r.length-1]=="steal"){r.pop()}var a=r.join("/");t.root=a}return t};l.id=function(e,r,i){var s=u(e);s=s.addJS().normalize(r?new u(r):null);if(!i){i="js"}if(i=="js"){}var o=t.attr().map||{};n.each(o,function(e,t){if(n.matchesId(e,r)){n.each(t,function(e,t){if((""+s).indexOf(e)==0){s=u((""+s).replace(e,t))}})}});return s};l.amdToId=function(e,r,i){var s=u(e);s=s.normalize(r?new u(r):null);if(!i){i="js"}if(i=="js"){}var o=t.attr().map||{};n.each(o,function(e,t){if(n.matchesId(e,r)){n.each(t,function(e,t){if((""+s).indexOf(e)==0){s=u((""+s).replace(e,t))}})}});return s};l.idToUri=function(e,r){var i=t.attr().paths||{},s;n.each(i,function(t,r){s=""+e;if(n.endsInSlashRegex.test(t)&&s.indexOf(t)==0||s===t){e=u(s.replace(t,r))}});return r?e:t.attr().root.join(e)};l.amdIdToUri=function(e,r){var i=t.attr().paths||{},s;n.each(i,function(t,r){s=""+e;if(n.endsInSlashRegex.test(t)&&s.indexOf(t)==0||s===t){e=u(s.replace(t,r))}});if(/(^|\/)[^\/\.]+$/.test(e)){e=u(e+".js")}return e};var h={};if(t.attr("amd")===true){n.win.define=function(e,t,r){if(typeof e=="function"){h[u.cur+""]=e()}else if(!r&&t){if(typeof t=="function"){h[e]=t()}else{h[e]=t}}else if(t&&r&&!t.length){h[e]=r()}else{l.apply(null,n.map(t,function(e){e=typeof e==="string"?{id:e}:e;e.toId=l.amdToId;e.idToUri=l.amdIdToUri;return e}).concat(r))}};n.win.require=function(e,t){var r=n.map(e,function(e){e=typeof e==="string"?{id:e}:e;e.toId=l.amdToId;e.idToUri=l.amdIdToUri;return e}).concat([t]);l.apply(null,r)};n.win.define.amd={jQuery:true};define("steal",[],function(){return l});define("require",function(){return f})}var p={},d;n.extend(l,{each:n.each,extend:n.extend,Deferred:r,isRhino:n.win.load&&n.win.readUrl&&n.win.readFile,makeOptions:function(e,n){if(!e.id){throw{message:"no id",options:e}}e.id=e.toId?e.toId(e.id,n):l.id(e.id,n);e.ext=e.id.ext();e.src=e.idToUri?e.idToUri(e.id)+"":steal.idToUri(e.id)+"";var r=t.attr().ext[e.ext];if(r&&!t.attr().types[r]){if(!e.needs){e.needs=[]}e.needs.push(r)}return e},then:function(){var e=n.map(arguments);e.unshift(null);return l.apply(n.win,e)},bind:function(e,t){if(!p[e]){p[e]=[]}var n=l.events[e];if(n&&n.add){t=n.add(t)}t&&p[e].push(t);return l},one:function(e,t){return l.bind(e,function(){t.apply(this,arguments);l.unbind(e,arguments.callee)})},events:{},unbind:function(e,t){var n=p[e]||[],r=0;while(r<n.length){if(t===n[r]){n.splice(r,1)}else{r++}}},trigger:function(e,t){var r=p[e]||[];n.each(n.map(r),function(e,n){n(t)})},has:function(){n.support.interactive=false;n.each(arguments,function(e,t){var n=v.make({id:t,idToUri:l.idToUri});n.loading=n.executing=true})},make:function(e){var t=typeof e==="string"?{id:e}:e;if(!t.idToUri){t.idToUri=l.idToUri}return v.make(t)},preexecuted:function(){},executed:function(e){var t=v.make({id:e,idToUri:l.idToUri});t.loading=t.executing=true;l.preexecuted(t);t.executed();if(steal.packHash[e]){steal.executed(steal.packHash[e])}return l},type:function(e,n){var r=e.split(" ");if(!n){return t.attr("types")[r.shift()].require}var r=e.split(" ");if(!n){return t.attr("types")[r.shift()].require}var i={};i[e]=n;t.attr("types",i)},request:n.request});n.useIEShim=function(){if(l.isRhino||typeof document==="undefined"){return false}var e=document.createElement("div");e.innerHTML="<!--[if lt IE 9]>ie<![endif]-->";return!!(n.scriptTag().readyState&&e.innerText==="ie")}();l.packs=[];l.packHash={};l.packages=function(e){if(!arguments.length){return l.packs}else{if(typeof e=="string"){l.packs.push.apply(l.packs,arguments)}else{l.packHash=e}return this}};var v=g(l,h,o,t);resources=v.modules;l.setupShims=function(e){for(var t in e){var r=e[t];(function(e,t){var r=t.init||t.exports;if(t.deps){t.needs=t.deps}delete t.init;delete t.exports;delete t.deps;n.extend(e.options,t);if(r){e.exports=function(){var i=[];n.each(t.needs||[],function(e,t){i.push(v.make(t).value)});if(typeof r==="function"){e.value=r.apply(null,i)}else{e.value=n.win[r]}}}})(v.make({id:t}),typeof r==="string"?{deps:[r]}:r.length?{deps:r}:r)}};var m=false;n.extend(l,{mappings:{},map:function(e,t){if(n.isString(e)){l.mappings[e]={test:new RegExp("^(/?"+e+")([/.]|$)"),path:t};n.each(h,function(e,t){if(t.options.type!="fn"){var n=t.options.buildType;t.updateOptions();t.options.buildType=n}})}else{n.each(e,l.map)}return this},after:function(){if(!m){m=new v;var e=m,t=function(){l.trigger("start",e);e.completed.then(function(){m=null;l.trigger("end",e)});e.executed()};if(n.win.setTimeout){l.pushPending();setTimeout(function(){l.popPending();t()},0)}else{t()}}},_before:n.before,_after:n.after});(function(){var e;l.pushPending=function(){e=v.pending.slice(0);v.pending=[];n.each(e,function(e,t){v.make(t)})};l.popPending=function(){v.pending=v.pending.length?e.concat(null,v.pending):e}})();(function(){var e=false,t,r=false;v.prototype.executed=n.before(v.prototype.executed,function(){var r=n.win.jQuery;if(r&&"readyWait"in r){if(!e){t=r;r.readyWait+=1;e=true}}});l.bind("end",function(){if(e&&!r){t.ready(true);r=true}})})();var b={load:r(),end:r()},w=false;n.addEvent(n.win,"load",function(){b.load.resolve()});l.one("end",function(e){b.end.resolve(e);w=e;l.trigger("done",w)});l.firstComplete=b.end;r.when(b.load,b.end).then(function(){l.trigger("ready");l.isReady=true});l.events.done={add:function(e){if(w){e(w);return false}else{return e}}};a=n.after(a,function(){var e=l.getScriptOptions();var r=n.win.location&&decodeURIComponent(n.win.location.search);r&&r.replace(/steal\[([^\]]+)\]=([^&]+)/g,function(t,n,r){e[n]=~r.indexOf(",")?r.split(","):r});t.attr(e);var i=t.attr();n.each(i.executed||[],function(e,t){l.executed(t)});var s=[];if(i.startIds){s.push.apply(s,n.isString(i.startIds)?[i.startIds]:i.startIds);i.startIds=s.slice(0)}if(t.attr().env=="production"&&t.attr().loadProduction&&t.attr().productionId){l({id:t.attr().productionId,force:true})}else if(t.attr().env=="development"){s.unshift({id:"stealconfig.js",abort:false});if(i.loadDev!==false){s.unshift({id:"steal/dev/dev.js",ignore:true})}if(i.startId){s.push(null,i.startId)}}if(s.length){l.apply(n.win,s)}});var E=function(){var e=n.getElementsByTagName("script"),t=e.length;while(t--){if(e[t].readyState==="interactive"){return e[t]}}},S=function(){if(s&&s.readyState==="interactive"){return s}if(s=E()){return s}if(c&&c.readyState=="interactive"){return c}return null};n.support.interactive=n.doc&&!!E();if(n.support.interactive){l.after=n.after(l.after,function(){if(!n.support.interactive){return}var e=S();if(!e||!e.src||/steal\.(production|production\.[a-zA-Z0-9\-\.\_]*)*js/.test(e.src)){return}var t=e.id;if(!o[t]){o[t]=[]}if(t){o[t].push.apply(o[t],v.pending);v.pending=[]}});l.preexecuted=n.before(l.preexecuted,function(e){if(!n.support.interactive){return}var t=e.options.src,r=S().src;o[t]=o[r];o[r]=null})}t.on(function(e){n.each(resources,function(e,t){t.rewriteIdAndUpdateOptions(e)});if(e.shim){l.setupShims(e.shim)}if(e.completed){n.each(n.isString(e.completed)?[e.completed]:e.completed,function(e,t){v.make({id:t}).executed()})}});l.File=l.URI=u;if(e){var x=new v({id:"steal"});x.value=l;x.loaded.resolve();x.run.resolve();x.executing=true;x.completed.resolve();resources[x.options.id]=x}a();l.resources=resources;l.Module=v;return l}var t=function(){return n.win.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest};var n={win:function(){return this}.call(null),each:function(e,t){var n,r;if(typeof e.length=="number"){for(n=0,r=e.length;n<r;n++){t.call(e[n],n,e[n],e)}}else{for(n in e){if(e.hasOwnProperty(n)){t.call(e[n],n,e[n],e)}}}return e},uniquePush:function(e,t){if(n.inArray(e,t)===-1){return e.push(t)}},isString:function(e){return typeof e=="string"},isFn:function(e){return typeof e=="function"},noop:function(){},endsInSlashRegex:/\/$/,createElement:function(e){return n.doc.createElement(e)},scriptTag:function(){var e=n.createElement("script");e.type="text/javascript";return e},getElementsByTagName:function(e){return n.doc.getElementsByTagName(e)},head:function(){var e=n.getElementsByTagName("head")[0];if(!e){e=n.createElement("head");n.docEl.insertBefore(e,n.docEl.firstChild)}n.head=function(){return e};return e},extend:function(e,t){t&&n.each(t,function(n){if(t.hasOwnProperty(n)){e[n]=t[n]}});return e},map:function(e,t){var r=[];n.each(e,function(e,i){r.push(t?n.isString(t)?i[t]:t.call(i,i):i)});return r},before:function(e,t,n){return n?function(){return e.apply(this,t.apply(this,arguments))}:function(){t.apply(this,arguments);return e.apply(this,arguments)}},after:function(e,t,r){return r?function(){return t.apply(this,[e.apply(this,arguments)].concat(n.map(arguments)))}:function(){var r=e.apply(this,arguments);t.apply(this,arguments);return r}},request:function(e,n,r){var i=new t,s=e.contentType||"application/x-www-form-urlencoded; charset=utf-8",o=function(){i=u=o=null},u=function(){var e;if(i&&i.readyState===4){e=i.status;if(e===500||e===404||e===2||i.status<0||!e&&i.responseText===""){r&&r(i.status)}else{n(i.responseText)}o()}};i.open("GET",e.src+"",!(e.async===false));i.setRequestHeader("Content-type",s);if(i.overrideMimeType){i.overrideMimeType(s)}i.onreadystatechange=u;try{i.send(null)}catch(a){if(o){console.error(a);r&&r();o()}}},matchesId:function(e,t){if(e==="*"){return true}else if(t.indexOf(e)===0){return true}},stealCheck:/steal\.(production\.)?js.*/,getStealScriptSrc:function(){if(!n.doc){return}var e=n.getElementsByTagName("script"),t;n.each(e,function(e,r){if(n.stealCheck.test(r.src)){t=r}});return t},inArray:function(e,t){for(var n=0;n<e.length;n++){if(e[n]===t){return n}}return-1},addEvent:function(e,t,n){if(e.addEventListener){e.addEventListener(t,n,false)}else if(e.attachEvent){e.attachEvent("on"+t,n)}else{n()}},useIEShim:false};n.doc=n.win.document;n.docEl=n.doc&&n.doc.documentElement;n.support={error:n.doc&&function(){var e=n.scriptTag();e.onerror=n.noop;return n.isFn(e.onerror)||"onerror"in e}(),interactive:false,attachEvent:n.doc&&n.scriptTag().attachEvent};var r=function(e){if(!(this instanceof r))return new r;this.doneFuncs=[];this.failFuncs=[];this.resultArgs=null;this.status="";e&&e.call(this,this)};r.when=function(){var e=n.map(arguments);if(e.length<2){var t=e[0];if(t&&n.isFn(t.isResolved)&&n.isFn(t.isRejected)){return t}else{return r().resolve(t)}}else{var i=r(),s=0,o=[];n.each(e,function(t,n){n.done(function(){o[t]=arguments.length<2?arguments[0]:arguments;if(++s==e.length){i.resolve.apply(i,o)}}).fail(function(){i.reject(arguments)})});return i}};var i=function(e,t){return function(n){var r=this.resultArgs=arguments.length>1?arguments[1]:[];return this.exec(n,this[e],r,t)}},s=function(e,t){return function(){var r=this;n.each(arguments,function(n,i,s){if(!i)return;if(i.constructor===Array){s.callee.apply(r,i)}else{if(r.status===t)i.apply(this,r.resultArgs||[]);r[e].push(i)}});return this}};n.extend(r.prototype,{resolveWith:i("doneFuncs","rs"),rejectWith:i("failFuncs","rj"),done:s("doneFuncs","rs"),fail:s("failFuncs","rj"),always:function(){var e=n.map(arguments);if(e.length&&e[0])this.done(e[0]).fail(e[0]);return this},then:function(){var e=n.map(arguments);if(e.length>1&&e[1])this.fail(e[1]);if(e.length&&e[0])this.done(e[0]);return this},isResolved:function(){return this.status==="rs"},isRejected:function(){return this.status==="rj"},reject:function(){return this.rejectWith(this,arguments)},resolve:function(){return this.resolveWith(this,arguments)},exec:function(e,t,r,i){if(this.status!=="")return this;this.status=i;n.each(t,function(t,n){n.apply(e,r)});return this}});var o=function(e,t,i,s){var o=n.map(e,t);return r.when.apply(r,o).then(function(){if(n.isFn(i[s])){i[s]()}else{i[s].resolve()}})};var u=function(e){if(this.constructor!==u){return new u(e)}n.extend(this,u.parse(""+e))};n.extend(u,{parse:function(e){var t=e.split("?"),n=t.shift(),r=t.join("").split("#"),i=n.split("://"),s={query:r.shift(),fragment:r.join("#")},o;if(i[1]){s.protocol=i.shift();o=i[0].split("/");s.host=o.shift();s.path="/"+o.join("/")}else{s.path=i[0]}return s}});u.page=u(n.win.location&&location.href);u.cur=u();n.extend(u.prototype,{dir:function(){var e=this.path.split("/");e.pop();return u(this.domain()+e.join("/"))},filename:function(){return this.path.split("/").pop()},ext:function(){var e=this.filename();return e.indexOf(".")>-1?e.split(".").pop():""},domain:function(){return this.protocol?this.protocol+"://"+this.host:""},isCrossDomain:function(e){e=u(e||n.win.location.href);var t=this.domain(),r=e.domain();return t&&r&&t!=r||this.protocol==="file"||t&&!r},isRelativeToDomain:function(){return!this.path.indexOf("/")},hash:function(){return this.fragment?"#"+this.fragment:""},search:function(){return this.query?"?"+this.query:""},add:function(e){return this.join(e)+""},join:function(e,t){e=u(e);if(e.isCrossDomain(this)){return e}if(e.isRelativeToDomain()){return u(this.domain()+e)}var r=this.path?this.path.split("/"):[],i=e.path.split("/"),s=i[0];if(this.path.match(/\/$/)){r.pop()}while(s==".."&&r.length&&r[r.length-1]!==".."){if(!r.pop()){break}i.shift();s=i[0]}return n.extend(u(this.domain()+r.concat(i).join("/")),{query:e.query})},normalize:function(e){e=e?e.dir():u.cur.dir();var t=this.path,n=u(t);if(!t.indexOf("//")){n=u(t.substr(2))}else if(!t.indexOf("./")){n=e.join(t.substr(2))}else if(this.isRelative()){n=e.join(this.domain()+t)}n.query=this.query;return n},isRelative:function(){return/^[\.|\/]/.test(this.path)},pathTo:function(e){e=u(e);var t=e.path.split("/"),r=this.path.split("/"),i=[];while(t.length&&r.length&&t[0]==r[0]){t.shift();r.shift()}n.each(r,function(){i.push("../")});return u(i.join("")+t.join("/"))},mapJoin:function(e){return this.join(u(e).insertMapping())},addJS:function(){var e=this.ext();if(!e){if(!this.isRelative()){this.path+="/"+this.filename()}this.path+=".js"}return this}});u.prototype.toString=function(){return this.domain()+this.path+this.search()+this.hash()};u.prototype.insertMapping=function(){var e=""+this,t,n;for(t in steal.mappings){n=steal.mappings[t];if(n.test.test(e)){return e.replace(t,n.path)}}return u(e)};var a=function(e){this.stealConfig={};this.callbacks=[];this.attr(a.defaults);this.attr(e)};n.extend(a.prototype,{attr:function(e,t){if(!e){return this.stealConfig}if(typeof e==="string"){if(arguments.length===1){return this.stealConfig&&this.stealConfig[e]}else{var r={};r[e]=t;e=r}}this.stealConfig=this.stealConfig||{};for(var i in e){var t=e[i];this[i]?this[i](t):typeof t=="object"&&this.stealConfig[i]?n.extend(this.stealConfig[i],t):this.stealConfig[i]=t}for(var s=0;s<this.callbacks.length;s++){this.callbacks[s](this.stealConfig)}return this},on:function(e){this.callbacks.push(e)},startId:function(e){this.stealConfig.startId=""+u(e).addJS();if(!this.stealConfig.productionId){this.stealConfig.productionId=u(this.stealConfig.startId).dir()+"/production.js"}},root:function(t){if(t!==e){var n=u(t);var r=u.page,i=r.join(t);u.cur=i.pathTo(r);this.stealConfig.root=n;return this}this.stealConfig.root=n||u("")},cloneContext:function(){return new a(n.extend({},this.stealConfig))}});a.defaults={types:{},ext:{},env:"development",loadProduction:true,logLevel:0,root:"",amd:false};a.prototype.types=function(e){var t=this.stealConfig.types||(this.stealConfig.types={});n.each(e,function(e,n){var r=e.split(" ");t[r.shift()]={require:n,convert:r}})};a.prototype.require=function(e,t,n){if(e.idToUri){var r=e.src;e.src=this.addSuffix(e.idToUri(e.id))}var i=this.attr().types[e.type],s;if(i.convert.length){s=i.convert.slice(0);s.unshift("text",e.type)}else{s=[e.type]}f(e,s,t,n,this)};a.prototype.addSuffix=function(e){var t=this.attr("suffix");if(t){e=(e+"").indexOf("?")>-1?e+"&"+t:e+"?"+t}return e};var l=function(e){e.onreadystatechange=e.onload=e.onerror=null;setTimeout(function(){n.head().removeChild(e)},1)},c,h=/^loade|c|u/;var p=0,d=n.doc&&n.doc.createStyleSheet,v,m;a.defaults.types={js:function(e,t,r){var i=n.scriptTag(),s=function(){if(!i.readyState||h.test(i.readyState)){l(i);t()}},o;if(e.text){i.text=e.text}else{var u=e.src;if(n.useIEShim){i.onreadystatechange=function(){if(h.test(i.readyState)){t()}}}else{i.onload=s;if(n.support.error&&r&&u.protocol!=="file"){i.onerror=r}}i.src=i.id=""+u;i.onSuccess=t}c=i;n.head().insertBefore(i,n.head().firstChild);if(e.text){s()}},fn:function(e,t){var n;if(!e.skipCallbacks){n=e.fn()}t(n)},text:function(e,t,r){n.request(e,function(n){e.text=n;t(n)},r)},css:function(e,t,r){if(e.text){var i=n.createElement("style");i.type="text/css";if(i.styleSheet){i.styleSheet.cssText=e.text}else{(function(e){if(i.childNodes.length){if(i.firstChild.nodeValue!==e.nodeValue){i.replaceChild(e,i.firstChild)}}else{i.appendChild(e)}})(n.doc.createTextNode(e.text))}n.head().appendChild(i)}else{if(d){if(!(p++)){v=n.doc.createStyleSheet(e.src);m=e}else{var s=""+u(u(m.src).dir()).pathTo(e.src);v.addImport(s);if(p==30){p=0}}t();return}e=e||{};var o=n.createElement("link");o.rel=e.rel||"stylesheet";o.href=e.src;o.type="text/css";n.head().appendChild(o)}t()}};var g=function(e,t,i,s){var a={},f=0;var l=function(t){this.dependencies=[];this.needsDependencies=[];this.id=++f;this.orig=t;this.curId=e.cur&&e.cur.options.id;this.setOptions(t);this.loaded=r();this.run=r();this.completed=r()};l.pending=[];l.make=function(e){var t=new l(e),r=t.options.id;if(t.unique&&r){if(!a[r]&&!a[r+".js"]){a[r]=t}else{var i=a[r];if(!n.isString(e)){for(var s in e){if(s!=="id"){i.options[s]=e[s]}}}return i}}return t};n.extend(l.prototype,{setOptions:function(r){var i=this.options;if(!r){this.options={};this.waits=false}else if(n.isFn(r)){var s=u.cur,o=this,a=e.cur;this.options={fn:function(){u.cur=s;var e=[],n=false,i,f;for(var l=a.dependencies.length;l>=0;l--){i=a.dependencies[l];if(n){if(i===null){break}f=t[i.options.id]||t[i.orig]||i.value;e.unshift(f)}if(i===o){n=true}}var c=r.apply(a,e);if(c){a.value=c}return c},id:s,type:"fn"};this.waits=true;this.unique=false}else{if(n.isString(r)){r={id:r}}this.options=e.makeOptions(n.extend({},r),this.curId);this.waits=this.options.waits||false;this.unique=true}for(opt in i){if(!this.options[opt]){this.options[opt]=i[opt]}}if(this.options.id){this.options.abort=false}},complete:function(){this.completed.resolve()},executed:function(t){var r,s,o=this.options.src,a=this.options.rootSrc;if(this.options.id){u.cur=u(this.options.id)}if(this.exports){this.exports()}e.cur=this;this.run.resolve();if(n.support.interactive&&o){if(i[o]){r=[];if(i.length){for(var f=0;f<i.length;f++){if(i[f]!==this.orig){r.push(i[f])}}}else{if(i[o]!==this.orig){r=i[o];delete i[o]}}}}if(!r){r=l.pending.slice(0);l.pending=[]}if(!r.length){this.complete();return}this.addDependencies(r);this.loadDependencies()},addDependencies:function(t){var r=this,i=e.config().env=="production";this.queue=[];n.each(t,function(t,n){if(n===null){r.queue.push(null);return}if(i&&n.ignore||!i&&!e.isRhino&&n.prodonly){return}var s=l.make(n);if(e.packHash[s.options.id]&&s.options.type!=="fn"){e.has(""+s.options.id);s=e.make(e.packHash[""+s.options.id])}r.queue.push(s)})},loadDependencies:function(){var e=this,t=[],r=[],i=[],s=true;n.each(this.queue,function(u,a){e.dependencies.push(a);if((a===null||a.waits)&&r.length){t=t.concat(r);r=[];s=false;if(a===null){return}}if(a===null)return;a.isSetupToExecute=true;var f=t.slice(0);n.each(a.options.needs||[],function(t,r){var s=l.make({id:r,idToUri:e.options.idToUri});n.uniquePush(a.needsDependencies,s);f.push(s);i.push(s)});f.length&&o(f,"completed",a,"execute");r.push(a);if(s&&(a.options.needs||[]).length==0){i.push(a)}a.load()});t=t.concat(r);o(t,"completed",e,"completed");n.each(i,function(e,t){t.execute()})},load:function(e){if(this.loading||this.loaded.isResolved()){return}this.loading=true;this.loaded.resolve()},execute:function(){var t=this;if(this.needsDependencies.length){var r=n.inArray(n.map(this.needsDependencies,function(e){return e.completed.isResolved()}),false);if(r>-1){this.needsDependencies[r].completed.then(function(){t.execute()});return}}if(this.lateNeedDependency&&!this.lateNeedDependency.completed.isResolved()){this.lateNeedDependency.completed.then(function(){t.execute()});return}var i=this.options,o=s.attr("types");if(!i.type){var a=u(i.id).ext();if(!a&&!o[a]){a="js"}i.type=a}if(!o[i.type]&&e.config().env=="development"){throw"steal.js - type "+i.type+" has not been loaded."}else if(!o[i.type]&&e.config().env=="production"){return}var f=o[i.type].convert;i.buildType=f.length?f[f.length-1]:i.type;if(!t.loaded.isResolved()){t.loaded.resolve()}if(!t.executing){t.executing=true;s.require(t.options,function(e){t.executed(e)},function(e,r){var i=t.options.abort,s=t.options.error;if(s){s.call(t.options)}n.win.clearTimeout&&n.win.clearTimeout(t.completeTimeout);if(i===false){t.executed();return}throw"steal.js : "+t.options.src+" not completed"})}},updateOptions:function(){var e=this.options.buildType;var t=this.options;this.setOptions(this.orig);var n=this.options;this.options=t;for(opt in n){this.options[opt]=n[opt]}this.options.buildType=e},rewriteIdAndUpdateOptions:function(e){if(this.options.type!="fn"){var t=(this.options.needs||[]).slice(0),n=this.options.buildType;this.updateOptions();var r=this.options.id;if(e!==r){a[r]=this}this.options.buildType=n;if(this.isSetupToExecute){this.addLateDependencies(t)}}},addLateDependencies:function(t){var r=this;n.each(this.options.needs||[],function(i,s){if(n.inArray(t,s)==-1){var o=e.make(s);o.execute();r.needsDependencies.push(o);r.lateNeedDependency=o}})}});n.extend(l.prototype,{load:n.after(l.prototype.load,function(t){var r=this;if(n.doc&&!r.completed&&!r.completeTimeout&&!e.isRhino&&(r.options.src.protocol=="file"||!n.support.error)){r.completeTimeout=setTimeout(function(){throw"steal.js : "+r.options.src+" not completed"},5e3)}}),complete:n.after(l.prototype.complete,function(){this.completeTimeout&&clearTimeout(this.completeTimeout)}),executed:n.before(l.prototype.executed,function(){if(this.options.has){this.loadHas()}}),loadHas:function(){var t,r,i=u.cur;if(this.options.buildType=="js"){return}n.each(this.options.has,function(t,n){u.cur=u(i);e.executed(n)})}});l.make=n.after(l.make,function(t){if(t.options.has){if(t.run.isResolved()){t.loadHas()}else{e.has.apply(e,t.options.has)}}return t},true);l.modules=a;return l};y(true,new a(typeof n.win.steal=="object"?n.win.steal:{}),true)})()
</script>
<script type="text/javascript">
steal.instrument = {};
var pct = function(num){
            return Math.round(num*1000)/10;
        },
        wrapper =
                "<div class='overall-stats'>"+
                "	<div class='total-stat'>"+
                "		<h2>Total Lines Covered<br /><span class='covered'></span></h2>"+
                "	</div>"+
                "	<div class='total-line-coverage stat-wrap'>"+
                "		<span class='stat'></span>"+
                "		<span class='chart'></span>"+
                "		<h2>Total Line Coverage</h2>"+
                "	</div>"+
                "	<div class='total-block-coverage stat-wrap'>"+
                "		<span class='stat'></span>"+
                "		<span class='chart'></span>"+
                "		<h2>Total Block Coverage</h2>"+
                "	</div>"+
                "</div>"+
                "<div class='covered-wrapper'>"+
                "<h2>Covered files</h2>"+
                "<table id='report' cellspacing='0' cellpadding='0'>"+
                "	<tr class='header'>"+
                "		<th>File Name</th>"+
                "		<th>Total Lines</th>"+
                "		<th>Lines Coverage</th>"+
                "		<th>Total Blocks</th>"+
                "		<th class='blockcol'>Block Coverage</th>"+
                "	</tr>",
        filesWrapper = '<div class="overall-stats">'+
                '	<div class="total-stat">'+
                '		<h2>Lines Covered <br /><span class="covered"></span></h2>'+
                '	</div>'+
                '	<div class="total-line-coverage stat-wrap">'+
                '		<span class="stat"></span>'+
                '		<span class="chart"></span>'+
                '		<h2>Line Coverage</h2>'+
                '	</div>'+
                '	<div class="total-block-coverage stat-wrap">'+
                '		<span class="stat"></span>'+
                '		<span class="chart"></span>'+
                '		<h2>Block Coverage</h2>'+
                '	</div>'+
                '</div>'+
                '<table id="file" cellspacing="0" cellpadding="0">',
        tabs = '<a href="#" class="btn-tab" id="test-tab">Test Results</a>'+
                '<a href="#" class="btn-tab btn-pressed" id="report-tab">Coverage Results</a>'+
                '<a href="#" class="btn-tab btn-hidden" id="file-tab">Lines Covered</a>',
// map from tabId to pane element IDs
        tabEls = {
            'test-tab': ['qunit-testrunner-toolbar', 'qunit-userAgent', 'qunit-testresult', 'qunit-tests', 'qunit-test-area'],
            'report-tab': ['report-wrapper'],
            'file-tab': ['files-wrapper']
        },
        $ = function(id){
            return document.getElementById(id);
        },
        clickTab = function(tabId){
            window.scrollTo(0,0);
            for(var tab in tabEls){
                if(tab !== tabId){
                    if(/hidden/.test($(tab).className)){
                        continue;
                    }
                    $(tab).className = "btn-tab";
                    for(var i=0; i<tabEls[tab].length; i++){
                        var el = $(tabEls[tab][i]);
                        if(el){
                            el.style.display = "none";
                        }
                    }
                } else {
                    $(tab).className = "btn-tab btn-pressed";
                    for(var i=0; i<tabEls[tab].length; i++){
                        var el = $(tabEls[tab][i]);
                        if(el){
                            el.style.display = "";
                        }
                    }
                }

            }
        },
        data;


steal.instrument.report = function(d){
    var appFrame = $("funcunit_app");
    if(appFrame){
        appFrame.parentNode.removeChild(appFrame);
    }

    data = d;
    var tr = [],
            stats = null,
            totalLine = pct(data.total.lineCoverage),
            totalBlock = pct(data.total.blockCoverage);

    var run = Math.round(data.total.lineCoverage*data.total.lines);

    for(var file in data.files){
        tr.push("<tr>");
        stats = data.files[file];

        var linePercentage = pct(stats.lineCoverage),
                blockPercentage = pct(stats.blockCoverage);


        /*tr.push("<td>", "<a class='file' href='#'>", file, "</a>", "</td>");
         tr.push("<td>", stats.lines, "</td>");
         tr.push("<td>", "<img height='15' width='130' src='http://chart.apis.google.com/chart?chf=bg,s,dedede&chxs=0,000000,0,0,_,dedede|1,000000,0,0,_,dedede&chxt=x,y&chbh=23,0,0&chs=130x15&cht=bhs&chco=0E51A2,dedede&chp=0,0.033&chma=2&chd=t:", parseInt(linePercentage, 10), "|100' />", linePercentage ,"%</td>");
         tr.push("<td>", stats.blocks, "</td>");
         tr.push("<td>", "<img height='15' width='130' src='http://chart.apis.google.com/chart?chf=bg,s,dedede&chxs=0,000000,0,0,_,dedede|1,000000,0,0,_,dedede&chxt=x,y&chbh=23,0,0&chs=130x15&cht=bhs&chco=0E51A2,dedede&chp=0,0.033&chma=2&chd=t:", parseInt(blockPercentage, 10), "|100' />", blockPercentage ,"%</td>");
         tr.push("</tr>");*/



        tr.push("<td>", "<a class='file' href='#'>", file, "</a>", "</td>");
        tr.push("<td>", stats.lines, "</td>");
        tr.push("<td>", "<div class='bar-graph'><div style='width: "+ parseInt(linePercentage, 10) +"%'></div></div>", linePercentage ,"%</td>");
        tr.push("<td>", stats.blocks, "</td>");
        tr.push("<td>", "<div class='bar-graph'><div style='width: "+ parseInt(blockPercentage, 10) +"%'></div></div>", blockPercentage ,"%</td>");
        tr.push("</tr>");
    }

    var table = wrapper+tr.join("")+"</table></div>";

    var el = document.createElement("div");
    el.id = 'report-wrapper';
    el.className = 'ui-helper-clearfix';
    el.innerHTML = table;
    document.body.appendChild(el);

    el.querySelector('.total-stat .covered').innerHTML = run + "/" + data.total.lines;

    el.querySelector('.total-line-coverage .stat').innerHTML = totalLine + "%";
    el.querySelector('.total-block-coverage .stat').innerHTML = totalBlock + "%";
    el.querySelector('.total-line-coverage .chart').innerHTML = '<img height="150" width="150" src="http://chart.apis.google.com/chart?chs=150x150&cht=pc&chco=0E51A2,BBCCED&chd=t:0|' + totalLine +',' + (100 - totalLine) + '&chma=|2,3" />';
    el.querySelector('.total-block-coverage .chart').innerHTML = '<img height="150" width="150" src="http://chart.apis.google.com/chart?chs=150x150&cht=pc&chco=0E51A2,BBCCED&chd=t:0|' + totalBlock + ',' + (100 - totalBlock) + '&chma=|2,3" />';

    var tabsEl = document.createElement('div');
    tabsEl.id = "tabs-container";
    tabsEl.innerHTML = tabs;

    document.body.insertBefore(tabsEl, document.getElementById("qunit-testrunner-toolbar"));
    clickTab('report-tab');





    var el = document.createElement("div");
    el.id = 'files-wrapper';
    document.body.appendChild(el);

    addEvent($('test-tab'), "click", function(){
        clickTab('test-tab');
    })
    addEvent($('report-tab'), "click", function(){
        clickTab('report-tab');
    })
    addEvent($('file-tab'), "click", function(){
        clickTab('file-tab');
    })
    addEvent($("report"), "click", function(ev){
        ev.preventDefault();
        if(ev.target.className == "file"){
            var fileName = ev.target.innerHTML;
            showFile(fileName)
        }
    })
}

function addEvent( elem, type, fn ) {
    if ( elem.addEventListener ) {
        elem.addEventListener( type, fn, false );
    } else if ( elem.attachEvent ) {
        elem.attachEvent( "on" + type, fn );
    } else {
        fn();
    }
}

var showFile = function(fileName){
    var src = data.files[fileName].src,
            totalLine = pct(data.files[fileName].lineCoverage),
            totalBlock = pct(data.files[fileName].blockCoverage),
            linesUsed = data.files[fileName].linesUsed,
            fileArr = src.replace(/\</g, "&lt;").replace(/\>/g, "&gt;").split("\n"),
            tr = [],
            lines;

    $("file-tab").innerHTML = fileName;

    for(var i=0; i<fileArr.length; i++){
        var hits = typeof linesUsed[i] == "number"? linesUsed[i] : 0,
                hitText = typeof linesUsed[i] == "number"? linesUsed[i] : "",
                isHit = (hits > 0),
                isBlank = (hitText === ''),
                css = (isHit ? 'hit' : (isBlank ? 'blank' : 'miss')),
                padding = fileArr[i].length - fileArr[i].replace(/^\s+/,"").length;

        tr.push("<tr>");
        tr.push("<td class='line'>", hitText, "</td>");
        tr.push("<td class='", css, "' style='padding-left:", (padding * 5 + 5), "px'>", "", fileArr[i], "", "</td>", "</tr>");
    }
    var table = filesWrapper+tr.join("")+"</table>";

    var el = $('files-wrapper');
    el.innerHTML = table;


    var run = Math.round(data.files[fileName].lineCoverage*data.files[fileName].lines);
    el.querySelector('.total-stat .covered').innerHTML = run + "/" + data.files[fileName].lines;

    el.querySelector('.total-line-coverage .stat').innerHTML = totalLine + "%";
    el.querySelector('.total-block-coverage .stat').innerHTML = totalBlock + "%";
    el.querySelector('.total-line-coverage .chart').innerHTML = '<img height="150" width="150" src="http://chart.apis.google.com/chart?chs=150x150&cht=pc&chco=0E51A2,BBCCED&chd=t:0|' + totalLine +',' + (100 - totalLine) + '&chma=|2,3" />';
    el.querySelector('.total-block-coverage .chart').innerHTML = '<img height="150" width="150" src="http://chart.apis.google.com/chart?chs=150x150&cht=pc&chco=0E51A2,BBCCED&chd=t:0|' + totalBlock + ',' + (100 - totalBlock) + '&chma=|2,3" />';

    clickTab('file-tab');
}

</script>
<title>Code Coverage</title>
</head>
<body>

<h1 id="qunit-header">parse Test Suite</h1>
<h2 id="qunit-banner"></h2>
<div id="qunit-testrunner-toolbar"></div>
<h2 id="qunit-userAgent"></h2>
<div id="test-content"></div>
<ol id="qunit-tests"></ol>
<div id="qunit-test-area"></div>
</body>
<script type="text/javascript">
    steal.instrument.report(/*---COVERAGE_RESULT---*/);
</script>
</html>